#!/bin/bash

module load cpu/0.15.4 gcc/7.5.0 openjdk hadoop/3.2.2
SW=/expanse/lustre/projects/uot182/fegaras

export HADOOP_HOME=$SW/hadoop-3.2.2
PATH="$HADOOP_HOME/bin:$PATH"

rm -rf WordCount.jar
rm -rf classes

mkdir -p classes
javac -d classes -cp classes:`hadoop classpath` WordCount.java
jar cf WordCount.jar -C classes .

chmod -R 750 classes
chmod -R 750 WordCount.jar
echo "Compilation completed."

